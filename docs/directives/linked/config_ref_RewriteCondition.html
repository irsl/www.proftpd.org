<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>&#13;RewriteCondition</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Configuration Directive List"
HREF="configuration.html"><LINK
REL="UP"
TITLE="List of Directives"
HREF="by-name.html"><LINK
REL="PREVIOUS"
TITLE="
RequireValidShell"
HREF="config_ref_RequireValidShell.html"><LINK
REL="NEXT"
TITLE="
RewriteEngine"
HREF="config_ref_RewriteEngine.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Configuration Directive List</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="config_ref_RequireValidShell.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="config_ref_RewriteEngine.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="REWRITECONDITION"
></A
>
RewriteCondition</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN7190"
></A
><H2
>Name</H2
>RewriteCondition&nbsp;--&nbsp;Define a rule condition</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN7193"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>RewriteCondition</B
>  [  <CODE
CLASS="OPTION"
>condition pattern</CODE
>]</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><P
><B
></B
></P
><DL
><DT
><PRE
CLASS="SYNOPSIS"
>Default</PRE
></DT
><DD
><P
>None</P
></DD
><DT
><PRE
CLASS="SYNOPSIS"
>Context</PRE
></DT
><DD
><P
>server config, &lt;Global&gt;, &lt;VirtualHost&gt;, &lt;Anonymous&gt;, &lt;Directory&gt;</P
></DD
><DT
><PRE
CLASS="SYNOPSIS"
>Module</PRE
></DT
><DD
><P
>mod_rewrite</P
></DD
><DT
><PRE
CLASS="SYNOPSIS"
>Compatibility</PRE
></DT
><DD
><P
>1.2.6rc1 and later</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN7220"
></A
><H2
>Description</H2
><P
>The RewriteCondition directive defines a rule condition. Precede a
<A
HREF="config_ref_RewriteRule.html"
>RewriteRule</A
> directive with one or more
RewriteCondition directives. The following rewriting rule is only used if
its pattern matches the current state of the FTP command and if these
additional conditions apply too.</P
><P
>Condition is a string which can contain the following expanded constructs
in addition to plain text:</P
><P
></P
><UL
><LI
STYLE="list-style-type: disc"
><P
>		<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>RewriteRule backreferences</B
></SPAN
>
	      </P
><P
>		These are backreferences of the form:
	      </P
><P
><SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>$N</B
></SPAN
></P
><P
>		(0 &#60;= N &#60;= 9) which provide access to the grouped
	       	parts (parentheses!) of the pattern from the corresponding
		RewriteRule directive (the one following the current bunch
		of RewriteCondition directives). Note that $0 will refer
		back to the entire original string being matched.
              </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>		<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>RewriteCondition backreferences</B
></SPAN
>
	      </P
><P
>		These are backreferences of the form:
	      </P
><P
><SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%N</B
></SPAN
></P
><P
>		(0 &#60;= N &#60;= 9) which provide access to the grouped parts
		(parentheses!) of the pattern from the previous
		RewriteCondition attached to this RewriteRule.
              </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>		<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>RewriteMap expansions:</B
></SPAN
>
	      </P
><P
>		These are expansions of the form:
	      </P
><P
>	      <SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>${map-name:lookup-key|default-value}</B
></SPAN
>
	      </P
><P
>		See the documentation for <A
HREF="config_ref_RewriteMap.html"
>RewriteMap
		</A
> for more details.
              </P
></LI
><LI
STYLE="list-style-type: disc"
><P
>		<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>Variable substitutions:</B
></SPAN
>
	      </P
><P
>		These are substitutions of the form:
              </P
><P
></P
><UL
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%a</B
></SPAN
>
			client IP address
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%c</B
></SPAN
>
			name of Class for current session
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%f</B
></SPAN
>
			filename
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%F</B
></SPAN
>
			transfer path, as seen by the client (only useful
			for upload/download commands)
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%g</B
></SPAN
>
			primary group of authenticated user
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%G</B
></SPAN
>
			supplemental groups of authenticated user
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%h</B
></SPAN
>
			client DNS name
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%m</B
></SPAN
>
			FTP command
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%p</B
></SPAN
>
			port of server handling the session
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%u</B
></SPAN
>
			name of authenticated user
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%U</B
></SPAN
>
			name of user sent by client via USER
			</P
></LI
><LI
STYLE="list-style-type: disc"
><P
>			<SPAN
CLASS="bold"
><B
CLASS="EMPHASIS"
>%v</B
></SPAN
>
			ServerName of server handling the session
			</P
></LI
></UL
></LI
></UL
><P
>Pattern is the condition pattern, i.e., a regular expression which is
applied to the current instance of the condition, i.e., condition is
evaluated and then matched against pattern. You can prefix the pattern
string with a '!' character (exclamation mark) to specify a non-matching
pattern.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN7290"
></A
><H2
>See also</H2
><P
><A
HREF="config_ref_RewriteRule.html"
>RewriteRule</A
>
<A
HREF="config_ref_RewriteMap.html"
>RewriteMap</A
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN7295"
></A
><H2
>Examples</H2
><P
CLASS="LITERALLAYOUT"
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="config_ref_RequireValidShell.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="configuration.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="config_ref_RewriteEngine.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>&#13;RequireValidShell</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="by-name.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&#13;RewriteEngine</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>